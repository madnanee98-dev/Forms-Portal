<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Automation Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fb;
        }
        /* Custom class for active tab */
        .tab-active {
            border-bottom: 3px solid #4f46e5; /* Indigo-600 */
            color: #4f46e5;
            font-weight: 600;
        }
        /* Style for the embedded spreadsheet container */
        .spreadsheet-container {
            height: 60vh; /* Responsive height */
            width: 100%;
            border-radius: 0.5rem;
            overflow: hidden; /* Ensures iframe respects borders */
        }
    </style>
</head>
<body class="min-h-screen p-4 md:p-8">

    <div class="max-w-4xl mx-auto bg-white shadow-xl rounded-xl p-6 md:p-10 border border-gray-100">

        <header class="text-center mb-10">
            <h1 id="portal-title" class="text-3xl md:text-4xl font-extrabold text-indigo-700">
                
            </h1>
            <p id="portal-subtitle" class="text-gray-500 mt-2 text-lg">
                To check the current status of database,  
            </p>
        </header>

        <!-- ========================================================== -->
        <!-- VIEW 1: FORM SELECTION MENU -->
        <!-- ========================================================== -->
        <section id="form-selection-view">
            <main class="space-y-6">

                <!-- New Card: VIEW DATABASE STATUS (Toggles the view) -->
                <button onclick="showView('database')" class="w-full block">
                    <div class="p-5 border border-red-200 bg-red-50 rounded-lg transition duration-300 ease-in-out hover:bg-red-100 hover:shadow-md cursor-pointer flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-red-600 mr-4 flex-shrink-0">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
                        </svg>
                        <div>
                            <p class="font-semibold text-gray-800 text-lg">VIEW DATABASE STATUS</p>
                            <p class="text-sm text-gray-600">Click here to check the current status of database.</p>
                        </div>
                    </div>
                </button>

                <!-- Form Link Card 1: Employees Database -->
                <a href="https://docs.google.com/forms/d/e/1FAIpQLScjX8QH0gkp4D3Us6Ps1zofRZt8mDVD03dYetWFRC5-_fTjPA/viewform?usp=preview" target="_blank" class="block">
                    <div class="p-5 border border-indigo-200 bg-indigo-50 rounded-lg transition duration-300 ease-in-out hover:bg-indigo-100 hover:shadow-md cursor-pointer flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-indigo-600 mr-4 flex-shrink-0">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 18L10.5 21 12.75 18M15 17.25h.75A2.25 2.25 0 0018 15V6.75A2.25 2.25 0 0015.75 4.5H5.25A2.25 2.25 0 003 6.75v8.25A2.25 2.25 0 005.25 18H6m-7.5 0h12a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.186.44l-1.423 2.06c-.332.484-.967.63-1.517.34l-4.394-2.247c-.575-.294-.967-.887-.967-1.554V12a2.25 2.25 0 00-2.25-2.25h-.75" />
                        </svg>
                        <div>
                            <p class="font-semibold text-gray-800 text-lg">Employees Database</p>
                            <p class="text-sm text-gray-600">Use this form to enter employees data</p>
                        </div>
                    </div>
                </a>

                <!-- Form Link Card 2: Vehicular Database -->
                <a href="https://docs.google.com/forms/d/e/1FAIpQLSdQqGcrl5KXs0LkfkRlfxKrnJkHwy_XYHYwrFU--2S1KNCAUQ/viewform?usp=preview" target="_blank" class="block">
                    <div class="p-5 border border-purple-200 bg-purple-50 rounded-lg transition duration-300 ease-in-out hover:bg-purple-100 hover:shadow-md cursor-pointer flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-purple-600 mr-4 flex-shrink-0">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 17.25v1.006a3 3 0 01-5.748 1.33A2.396 2.396 0 013 21h18c.63 0 1.157-.466 1.192-1.091A2.404 2.404 0 0021 18.75V17.25M17.25 12V7.5M17.25 12h-7.5m7.5 0l-1.5 1.5m1.5-1.5l-1.5-1.5m-1.5 7.5l-.75-3.75 2.14-2.14a3 3 0 00-.012-4.24l-3.237-3.236a3 3 0 00-4.24-.012l-2.14 2.14-.75-3.75v1.373a6 6 0 005.85 5.927l.764.191a6 6 0 0111.458 1.996z" />
                        </svg>
                        <div>
                            <p class="font-semibold text-gray-800 text-lg">Vehicular Database</p>
                            <p class="text-sm text-gray-600">Use this form to enter vehicular data</p>
                        </div>
                    </div>
                </a>

                <!-- Form Link Card 3: Under Preparation -->
                <a href="YOUR_TRAINING_FORM_LINK_HERE" target="_blank" class="block">
                    <div class="p-5 border border-emerald-200 bg-emerald-50 rounded-lg transition duration-300 ease-in-out hover:bg-emerald-100 hover:shadow-md cursor-pointer flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-emerald-600 mr-4 flex-shrink-0">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5M12 4.5e2V3.75h-.75V3h-.75M4.5 9h15m-15 4.5h15m-15 4.5h15" />
                        </svg>
                        <div>
                            <p class="font-semibold text-gray-800 text-lg">Under preparation</p>
                            <p class="text-sm text-gray-600">This form is currently under preparation</p>
                        </div>
                    </div>
                </a>

            </main>
        </section>

        <!-- ========================================================== -->
        <!-- VIEW 2: DATABASE VIEW (Initially hidden) -->
        <!-- ========================================================== -->
        <section id="database-view" class="hidden">
            <button onclick="showView('forms')" class="text-indigo-600 hover:text-indigo-800 mb-6 flex items-center text-sm font-medium transition duration-150 ease-in-out">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4 mr-1">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
                </svg>
                Back to Form Selection Menu
            </button>
            
            <!-- Tabs for different Sheets -->
            <div role="tablist" class="flex border-b border-gray-200 mb-6">
                <!-- IMPORTANT: Data-tab must match the ID of the corresponding iframe container below -->
                <button role="tab" data-tab="employees-database" onclick="switchTab('employees-database', this)" class="p-3 text-gray-500 hover:text-gray-700 transition duration-150 ease-in-out tab-active">EMPLOYEES DATABASE</button>
                <button role="tab" data-tab="vehicular-database" onclick="switchTab('vehicular-database', this)" class="p-3 text-gray-500 hover:text-gray-700 transition duration-150 ease-in-out">VEHICULAR DATABASE</button>
                <button role="tab" data-tab="under-preparation" onclick="switchTab('under-preparation', this)" class="p-3 text-gray-500 hover:text-gray-700 transition duration-150 ease-in-out">UNDER PREPARATION</button>
            </div>

            <!-- Tab Content Containers -->
            <div id="tab-content">
                <!-- EMPLOYEES DATABASE Content (Active by default) -->
                <div id="employees-database-content" class="spreadsheet-container tab-content">
                <iframe src="https://docs.google.com/spreadsheets/d/e/2PACX-1vRk6P97GAcMQku-W9IgRN36qD5l2p1K3HitriDW3YXBBux9UOxkMUrksXT4jk8dFpWpdrbu7u-kwjt_/pubhtml?gid=530925339&amp;single=true&amp;widget=true&amp;headers=false"></iframe>    
                </div>

                <!-- VEHICULAR DATABASE Content -->
                <div id="vehicular-database-content" class="spreadsheet-container tab-content hidden">
                <iframe src="https://docs.google.com/spreadsheets/d/e/2PACX-1vT5fqbUQ7ZBpN14tqDhYd5eeT8t9vxFB8-2j6m_AcEEjgvw9sxdvaaLOxpjxuiKK5TEzw4nAiJRvL3L/pubhtml?gid=1298923278&amp;single=true&amp;widget=true&amp;headers=false"></iframe>
                </div>
                
                <!-- OTHER LOCATIONS Content -->
                <div id="other-locations-content" class="spreadsheet-container tab-content hidden">
                    <!-- PASTE YOUR GOOGLE SHEETS IFRAME EMBED CODE FOR OTHER LOCATIONS HERE -->
                    <p class="text-center p-8 text-gray-500">
                        Please follow the instructions below to publish and paste the Google Sheet embed code for OTHER LOCATIONS here.
                    </p>
                </div>
            </div>

        </section>

        <footer class="mt-10 pt-6 border-t text-center text-gray-400 text-sm">
            Portal Version 1.0 | Contact Admin for support
        </footer>

    </div>

    <script>
        // --- JavaScript for View Toggling ---

        const formView = document.getElementById('form-selection-view');
        const databaseView = document.getElementById('database-view');
        const portalTitle = document.getElementById('portal-title');
        const portalSubtitle = document.getElementById('portal-subtitle');
        const tabButtons = document.querySelectorAll('[role="tab"]');
        const tabContents = document.querySelectorAll('.tab-content');
        
        // Function to switch between the Forms Menu and the Database View
        function showView(view) {
            if (view === 'database') {
                formView.classList.add('hidden');
                databaseView.classList.remove('hidden');
                portalTitle.textContent = "Current Database Status";
                portalSubtitle.textContent = "View read-only data for assigned locations.";
                // Activate the first tab when entering database view
                if (tabButtons.length > 0) {
                     switchTab(tabButtons[0].getAttribute('data-tab'), tabButtons[0]);
                }
            } else { // view === 'forms'
                formView.classList.remove('hidden');
                databaseView.classList.add('hidden');
                portalTitle.textContent = "System Automation Portal";
                portalSubtitle.textContent = "Please select the appropriate form for your submission.";
            }
        }

        // Function to switch between tabs within the Database View
        function switchTab(tabId, clickedButton) {
            // Deactivate all tab buttons
            tabButtons.forEach(btn => btn.classList.remove('tab-active'));
            // Hide all tab content
            tabContents.forEach(content => content.classList.add('hidden'));

            // Activate the clicked button
            clickedButton.classList.add('tab-active');
            
            // Show the corresponding content
            const contentId = tabId + '-content';
            const contentElement = document.getElementById(contentId);
            if (contentElement) {
                contentElement.classList.remove('hidden');
            }
        }

        // Initialize the view on load to ensure EMPLOYEES DATABASE is the default active tab
        document.addEventListener('DOMContentLoaded', () => {
            // Find the button for 'employees-database' and activate it if it exists
            const defaultButton = document.querySelector('[data-tab="employees-database"]');
            if (defaultButton) {
                switchTab('employees-database', defaultButton);
            }
        });

    </script>
</body>
</html>
